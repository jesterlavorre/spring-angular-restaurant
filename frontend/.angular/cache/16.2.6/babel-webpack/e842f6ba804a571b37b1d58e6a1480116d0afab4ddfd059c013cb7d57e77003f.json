{"ast":null,"code":"import { User } from '../models/User';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/backend.service\";\nimport * as i4 from \"@angular/forms\";\nexport class ChangePasswordComponent {\n  constructor(http, router, services) {\n    this.http = http;\n    this.router = router;\n    this.services = services;\n    this.oldPassword = '';\n    this.newPassword = '';\n    this.confirmNewPassword = '';\n    this.message = '';\n  }\n  goToDeliveryView() {\n    this.router.navigate(['delivery-view']);\n  }\n  goToReservarionView() {\n    this.router.navigate(['reservation-view']);\n  }\n  goToHome() {\n    this.router.navigate(['customer']);\n  }\n  goToChangePassword() {\n    this.router.navigate(['change-password']);\n  }\n  goToProfile() {\n    this.router.navigate(['profile']);\n  }\n  goToRestaurantDetails(id) {\n    this.services.currentRestaurantBeingViewedId = id;\n    this.router.navigate(['restaurant-view']);\n  }\n  toggleBasket() {\n    this.router.navigate(['basket']);\n  }\n  logout() {\n    this.services.activeUser = new User('', '', '', '', '', '', '', '', '', '', '', '', '', '', '');\n    this.router.navigate(['']);\n  }\n  changePassword() {\n    this.message = '';\n    if (this.newPassword !== this.confirmNewPassword) {\n      this.message = 'New passwords do not match.';\n    } else if (this.oldPassword === this.newPassword) {\n      this.message = 'New password cannot be the same as the old password.';\n    } else {\n      if (this.oldPassword !== this.services.activeUser?.passwordClear) {\n        this.message = 'Current password does not match the one entered';\n      } else {\n        this.message = 'Password changed successfully.';\n        this.services.changePassword(this.services.activeUser.username, this.newPassword).subscribe(response => {\n          this.services.activeUser.passwordClear = this.newPassword;\n          this.services.activeUser.password = this.newPassword;\n        });\n        this.router.navigate(['customer']);\n      }\n    }\n  }\n  static #_ = this.ɵfac = function ChangePasswordComponent_Factory(t) {\n    return new (t || ChangePasswordComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.BackendService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChangePasswordComponent,\n    selectors: [[\"app-change-password\"]],\n    decls: 48,\n    vars: 4,\n    consts: [[1, \"logo\", 3, \"click\"], [1, \"buttons\"], [3, \"click\"], [1, \"change-password-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"oldPassword\"], [\"type\", \"password\", \"id\", \"oldPassword\", \"name\", \"oldPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newPassword\"], [\"type\", \"password\", \"id\", \"newPassword\", \"name\", \"newPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"confirmNewPassword\"], [\"type\", \"password\", \"id\", \"confirmNewPassword\", \"name\", \"confirmNewPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\"], [1, \"errorClass\"], [1, \"footer\"]],\n    template: function ChangePasswordComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\")(1, \"div\", 0);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_div_click_1_listener() {\n          return ctx.goToHome();\n        });\n        i0.ɵɵtext(2, \"Restaurant of cringe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_4_listener() {\n          return ctx.goToDeliveryView();\n        });\n        i0.ɵɵtext(5, \"Deliveries\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_7_listener() {\n          return ctx.goToReservarionView();\n        });\n        i0.ɵɵtext(8, \"Reservations\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 1)(10, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_10_listener() {\n          return ctx.goToChangePassword();\n        });\n        i0.ɵɵtext(11, \"Change password\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 1)(13, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_13_listener() {\n          return ctx.goToProfile();\n        });\n        i0.ɵɵtext(14, \"Profile\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 1)(16, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_16_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(17, \"Logout\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 1)(19, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ChangePasswordComponent_Template_button_click_19_listener() {\n          return ctx.toggleBasket();\n        });\n        i0.ɵɵtext(20, \"Basket\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 3)(22, \"h2\");\n        i0.ɵɵtext(23, \"Change Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function ChangePasswordComponent_Template_form_ngSubmit_24_listener() {\n          return ctx.changePassword();\n        });\n        i0.ɵɵelementStart(25, \"div\", 5)(26, \"label\", 6);\n        i0.ɵɵtext(27, \"Old Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.oldPassword = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 5)(30, \"label\", 8);\n        i0.ɵɵtext(31, \"New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.newPassword = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 5)(34, \"label\", 10);\n        i0.ɵɵtext(35, \"Confirm New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_36_listener($event) {\n          return ctx.confirmNewPassword = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"button\", 12);\n        i0.ɵɵtext(38, \"Change Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"span\", 13);\n        i0.ɵɵtext(40);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(41, \"br\")(42, \"br\")(43, \"br\")(44, \"br\");\n        i0.ɵɵelementStart(45, \"div\", 14)(46, \"p\");\n        i0.ɵɵtext(47, \"\\u00A9 2024 pravi majstor. All rights reserved.\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(28);\n        i0.ɵɵproperty(\"ngModel\", ctx.oldPassword);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.newPassword);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.confirmNewPassword);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.message);\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n    styles: [\"\\n\\nbody[_ngcontent-%COMP%] {\\n  font-family: Arial, sans-serif;\\n  margin: 0;\\n  padding: 0;\\n  line-height: 1.6;\\n}\\n\\n\\n\\nheader[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 10px 20px;\\n  background-color: #333;\\n  color: white;\\n}\\n\\nheader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n}\\n\\nheader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: #555;\\n  color: white;\\n  border: none;\\n  padding: 10px 15px;\\n  cursor: pointer;\\n  border-radius: 5px;\\n}\\n\\nheader[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #777;\\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n}\\n\\n\\n\\nmain[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n\\n\\n.change-password-container[_ngcontent-%COMP%] {\\n  max-width: 100%; \\n\\n  width: 400px; \\n\\n  margin: 0 auto;\\n  padding: 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 10px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n  background-color: #f9f9f9;\\n}\\n\\n.change-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  box-sizing: border-box;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  background-color: #007bff;\\n  border: none;\\n  border-radius: 5px;\\n  color: white;\\n  font-size: 16px;\\n  cursor: pointer;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.btn[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n\\n.errorClass[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-top: 10px;\\n  color: red;\\n  font-family: Arial, sans-serif;\\n  text-align: center;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .change-password-container[_ngcontent-%COMP%] {\\n    width: 90%; \\n\\n  }\\n\\n  .btn[_ngcontent-%COMP%] {\\n    font-size: 14px; \\n\\n  }\\n}\\n.footer[_ngcontent-%COMP%] {\\n  background-color: #333;\\n  color: white;\\n  text-align: center;\\n  padding: 20px;\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhbmdlLXBhc3N3b3JkL2NoYW5nZS1wYXNzd29yZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQjtBQUNsQjtFQUNFLDhCQUE4QjtFQUM5QixTQUFTO0VBQ1QsVUFBVTtFQUNWLGdCQUFnQjtBQUNsQjs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixpQkFBaUI7QUFDbkI7O0FBRUEsd0JBQXdCO0FBQ3hCO0VBQ0UsYUFBYTtBQUNmOztBQUVBLDhCQUE4QjtBQUM5QjtFQUNFLGVBQWUsRUFBRSxxQkFBcUI7RUFDdEMsWUFBWSxFQUFFLHdCQUF3QjtFQUN0QyxjQUFjO0VBQ2QsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsdUNBQXVDO0VBQ3ZDLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0VBQ2YsZUFBZTtFQUNmLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsVUFBVTtFQUNWLDhCQUE4QjtFQUM5QixrQkFBa0I7QUFDcEI7O0FBRUEsc0JBQXNCO0FBQ3RCO0VBQ0U7SUFDRSxVQUFVLEVBQUUseUNBQXlDO0VBQ3ZEOztFQUVBO0lBQ0UsZUFBZSxFQUFFLHlDQUF5QztFQUM1RDtBQUNGO0FBQ0E7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsZUFBZTtFQUNmLFNBQVM7RUFDVCxXQUFXO0FBQ2I7QUFDQTtFQUNFLFNBQVM7QUFDWCIsInNvdXJjZXNDb250ZW50IjpbIi8qIEdsb2JhbCBTdHlsZXMgKi9cclxuYm9keSB7XHJcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbn1cclxuXHJcbi8qIEhlYWRlciBTdHlsZXMgKi9cclxuaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuaGVhZGVyIC5idXR0b25zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMTBweDtcclxufVxyXG5cclxuaGVhZGVyIC5idXR0b25zIGJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmc6IDEwcHggMTVweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG5oZWFkZXIgLmJ1dHRvbnMgYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzc3O1xyXG59XHJcblxyXG4ubG9nbyB7XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi8qIE1haW4gQ29udGVudCBTdHlsZXMgKi9cclxubWFpbiB7XHJcbiAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuLyogQ2hhbmdlIFBhc3N3b3JkIENvbnRhaW5lciAqL1xyXG4uY2hhbmdlLXBhc3N3b3JkLWNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiAxMDAlOyAvKiBBZGp1c3QgYXMgbmVlZGVkICovXHJcbiAgd2lkdGg6IDQwMHB4OyAvKiBMaW1pdCBtYXhpbXVtIHdpZHRoICovXHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbn1cclxuXHJcbi5jaGFuZ2UtcGFzc3dvcmQtY29udGFpbmVyIGgyIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCBsYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5idG4ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLmJ0bjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcclxufVxyXG5cclxuLmVycm9yQ2xhc3Mge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgY29sb3I6IHJlZDtcclxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlIERlc2lnbiAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAuY2hhbmdlLXBhc3N3b3JkLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogOTAlOyAvKiBBZGp1c3QgYXMgbmVlZGVkIGZvciBzbWFsbGVyIHNjcmVlbnMgKi9cclxuICB9XHJcblxyXG4gIC5idG4ge1xyXG4gICAgZm9udC1zaXplOiAxNHB4OyAvKiBSZWR1Y2UgZm9udCBzaXplIGZvciBzbWFsbGVyIHNjcmVlbnMgKi9cclxuICB9XHJcbn1cclxuLmZvb3RlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGJvdHRvbTogMDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4uZm9vdGVyIHAge1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["User","ChangePasswordComponent","constructor","http","router","services","oldPassword","newPassword","confirmNewPassword","message","goToDeliveryView","navigate","goToReservarionView","goToHome","goToChangePassword","goToProfile","goToRestaurantDetails","id","currentRestaurantBeingViewedId","toggleBasket","logout","activeUser","changePassword","passwordClear","username","subscribe","response","password","_","i0","ɵɵdirectiveInject","i1","HttpClient","i2","Router","i3","BackendService","_2","selectors","decls","vars","consts","template","ChangePasswordComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ChangePasswordComponent_Template_div_click_1_listener","ɵɵtext","ɵɵelementEnd","ChangePasswordComponent_Template_button_click_4_listener","ChangePasswordComponent_Template_button_click_7_listener","ChangePasswordComponent_Template_button_click_10_listener","ChangePasswordComponent_Template_button_click_13_listener","ChangePasswordComponent_Template_button_click_16_listener","ChangePasswordComponent_Template_button_click_19_listener","ChangePasswordComponent_Template_form_ngSubmit_24_listener","ChangePasswordComponent_Template_input_ngModelChange_28_listener","$event","ChangePasswordComponent_Template_input_ngModelChange_32_listener","ChangePasswordComponent_Template_input_ngModelChange_36_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate"],"sources":["d:\\Users\\Admin\\Desktop\\PIA\\2023-24\\projekat\\sveze skinuti pocetni\\frontend\\src\\app\\change-password\\change-password.component.ts","d:\\Users\\Admin\\Desktop\\PIA\\2023-24\\projekat\\sveze skinuti pocetni\\frontend\\src\\app\\change-password\\change-password.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BackendService } from '../services/backend.service';\nimport { User } from '../models/User';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css'],\n})\nexport class ChangePasswordComponent {\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private services: BackendService\n  ) {}\n  goToDeliveryView() {\n    this.router.navigate(['delivery-view']);\n  }\n  goToReservarionView() {\n    this.router.navigate(['reservation-view']);\n  }\n  goToHome() {\n    this.router.navigate(['customer']);\n  }\n  goToChangePassword() {\n    this.router.navigate(['change-password']);\n  }\n\n  goToProfile() {\n    this.router.navigate(['profile']);\n  }\n  goToRestaurantDetails(id: string) {\n    this.services.currentRestaurantBeingViewedId = id;\n    this.router.navigate(['restaurant-view']);\n  }\n  toggleBasket() {\n    this.router.navigate(['basket']);\n  }\n  logout() {\n    this.services.activeUser = new User(\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      ''\n    );\n    this.router.navigate(['']);\n  }\n  oldPassword: string = '';\n  newPassword: string = '';\n  confirmNewPassword: string = '';\n  message: string = '';\n\n  changePassword() {\n    this.message = '';\n    if (this.newPassword !== this.confirmNewPassword) {\n      this.message = 'New passwords do not match.';\n    } else if (this.oldPassword === this.newPassword) {\n      this.message = 'New password cannot be the same as the old password.';\n    } else {\n      if (this.oldPassword !== this.services.activeUser?.passwordClear) {\n        this.message = 'Current password does not match the one entered';\n      } else {\n        this.message = 'Password changed successfully.';\n        this.services\n          .changePassword(this.services.activeUser.username, this.newPassword)\n          .subscribe((response) => {\n            this.services.activeUser.passwordClear = this.newPassword;\n            this.services.activeUser.password = this.newPassword;\n          });\n        this.router.navigate(['customer']);\n      }\n    }\n  }\n}\n","<header>\n  <div class=\"logo\" (click)=\"goToHome()\">Restaurant of cringe</div>\n  <div class=\"buttons\">\n    <button (click)=\"goToDeliveryView()\">Deliveries</button>\n  </div>\n  <div class=\"buttons\">\n    <button (click)=\"goToReservarionView()\">Reservations</button>\n  </div>\n  <div class=\"buttons\">\n    <button (click)=\"goToChangePassword()\">Change password</button>\n  </div>\n  <div class=\"buttons\">\n    <button (click)=\"goToProfile()\">Profile</button>\n  </div>\n  <!-- <div class=\"buttons\">\n    <button (click)=\"goToRestaurants()\">Restaurants</button>\n  </div> -->\n  <div class=\"buttons\">\n    <button (click)=\"logout()\">Logout</button>\n  </div>\n  <div class=\"buttons\">\n    <button (click)=\"toggleBasket()\">Basket</button>\n  </div>\n</header>\n\n<div class=\"change-password-container\">\n  <h2>Change Password</h2>\n  <form (ngSubmit)=\"changePassword()\">\n    <div class=\"form-group\">\n      <label for=\"oldPassword\">Old Password</label>\n      <input\n        type=\"password\"\n        id=\"oldPassword\"\n        [(ngModel)]=\"oldPassword\"\n        name=\"oldPassword\"\n        required\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"newPassword\">New Password</label>\n      <input\n        type=\"password\"\n        id=\"newPassword\"\n        [(ngModel)]=\"newPassword\"\n        name=\"newPassword\"\n        required\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"confirmNewPassword\">Confirm New Password</label>\n      <input\n        type=\"password\"\n        id=\"confirmNewPassword\"\n        [(ngModel)]=\"confirmNewPassword\"\n        name=\"confirmNewPassword\"\n        required\n      />\n    </div>\n    <button type=\"submit\" class=\"btn\">Change Password</button>\n    <span class=\"errorClass\">{{ message }}</span>\n  </form>\n</div>\n<br />\n<br />\n<br />\n<br />\n<div class=\"footer\">\n  <p>&copy; 2024 pravi majstor. All rights reserved.</p>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}